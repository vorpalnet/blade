<html>

<head>
<title>ALICE - Microservice Broker</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">


<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css"
	integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins:300,400,700">
<link rel="stylesheet" href="../css/style.default.css" id="theme-stylesheet">
<link rel="stylesheet" href="../css/custom.css">
<link rel="shortcut icon" href="../img/favicon.ico">
<link rel="stylesheet" href="https://file.myfontastic.com/da58YPMQ7U5HY8Rb6UxkNf/icons.css">


<script type="text/javascript" src="https://formbuilder.online/assets/js/vendor.min.js"></script>

<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
	integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
	integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
	integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
	integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>


</head>

<body>

	<div id="view" class="container col-sm-6">

		<h2>Transition</h2>

		<div class="container">
			<form class="form-horizontal">

				<ul class="nav nav-tabs" role="tablist">
					<li class="nav-item"><a class="nav-link active" data-toggle="tab" href="#trigger" role="tab">Trigger</a></li>
					<li class="nav-item"><a class="nav-link" data-toggle="tab" href="#action" role="tab">Action</a></li>
				</ul>

				<!-- Tab panes -->
				<div class="tab-content">
					<div class="tab-pane active" id="trigger" role="tabpanel">
						<!-- Trigger content goes here -->

						<div class="container">
							<div class="form-group row"></div>
							<div class="form-group row">
								<label class="form-control-label">Request Method<span class="fb-required">*</span><span class="tooltip-element"
									tooltip="SIP Request Method">?</span></label>
								<div class="select">
									<select name="account" class="form-control">
										<option>INVITE</option>
										<option>OPTIONS</option>
										<option>REGISTER</option>
										<option>SUBSCRIBE</option>
										<option>NOTIFY</option>
										<option>PUBLISH</option>
										<option>INFO</option>
										<option>REFER</option>
										<option>MESSAGE</option>
										<option>UPDATE</option>
									</select>
								</div>
							</div>
							<div class="form-group row">
								<label class="form-control-label">Request Line URI<span class="tooltip-element"
									tooltip="Regular expression pattern match on SIP Request Line URI">?</span></label> <input name="requestURI" class="form-control"
									type="text">

							</div>
							<div class="form-group row">
								<label class="form-control-label">Routing Directive<span class="tooltip-element"
									tooltip="Routing directives are provided by applications when they send or proxy an initial request.">?</span></label>

								<div class="i-checks">
									<input id="checkboxCustom1" value="NEW" class="checkbox-template" type="checkbox"> <label for="checkboxCustom1">New</label>
								</div>
								<div class="i-checks">
									<input id="checkboxCustom1" value="CONTINUE" class="checkbox-template" type="checkbox"> <label for="checkboxCustom1">Continue</label>
								</div>
								<div class="i-checks">
									<input id="checkboxCustom1" value="REVERSE" class="checkbox-template" type="checkbox"> <label for="checkboxCustom1">Reverse</label>
								</div>

							</div>




							<div class="form-group row header">
								<label class="form-control-label">Regular Expression(s)<span class="tooltip-element"
									tooltip="Regular expression pattern match against SIP header">?</span></label>

								<div class="input-group">
									<div class="input-group-btn">
										<button data-toggle="dropdown" type="button" class="btn btn-white dropdown-toggle">
											<span data-bind="label">Header</span>&nbsp;<span class="caret"></span>
										</button>
										<ul class="dropdown-menu">
											<li><a href="#">To</a></li>
											<li><a href="#">From</a></li>
											<div class="dropdown-divider"></div>
											<a class="dropdown-item" href="#">Remove Expression</a>
											<a class="dropdown-item" href="#">Add Header</a>

										</ul>
									</div>
									<input name="regex" class="form-control" type="text"> <span class="input-group-btn">
										<button type="button" class="btn btn-success"><i class="fas fa-plus"></i>GO</button>
									</span>
								</div>

							</div>
						</div>
					</div>


					<div class="tab-pane" id="action" role="tabpanel">
						<!-- Action content goes here -->



						<div class="container">

							<div class="form-group row"></div>



							<div class="form-group row header">
								<label class="form-control-label">Routing Region / Subscriber URI<span class="tooltip-element"
									tooltip="Regular expression pattern match against SIP header">?</span></label>

								<div class="input-group">
									<div class="input-group-btn">
										<button data-toggle="dropdown" type="button" class="btn btn-white dropdown-toggle">
											<span data-bind="label">Region</span>&nbsp;<span class="caret"></span>
										</button>
										<ul id="routingRegion" class="dropdown-menu">
											<li><a class="dropdown-item" href="#">Originating</a></li>
											<li><a class="dropdown-item" href="#">Terminating</a></li>
											<li><a class="dropdown-item" href="#">Neutral</a></li>
											<li><div class="dropdown-divider"></div></li>
											<li><a class="dropdown-item" href="#">Add Region</a></li>
										</ul>
									</div>
									<input id="subscriberUri" class="form-control" type="text">
								</div>
							</div>

							<div class="form-group row">
								<label class="form-control-label">Route(s)<span class="tooltip-element" tooltip="Line separated list of routes to be pushed">?</span></label>
								<textarea class="form-control rounded-0" id="routes" rows="3"></textarea>
							</div>

							<div class="form-group row">
								<label class="form-control-label">Route Back<span class="tooltip-element"
									tooltip="Tells the container to push a route back to itself before pusing the routes specified">?</span></label>
								<div class="i-checks">
									<input name="route_back" value="true" class="radio-template" type="radio"> <label>True</label>
								</div>
								<div class="i-checks">
									<input name="route_back" checked="" value="false" class="radio-template" type="radio"> <label>False</label>
								</div>
							</div>













						</div>



					</div>
			</form>

		</div>


	</div>




	<script type="text/javascript">
		/* 		$(document.body).on(
		 'click',
		 '.dropdown-menu li',
		 function(event) {

		 var $target = $(event.currentTarget);

		 //create a new header drop down
		 $target.closest('.header').clone().insertAfter(
		 "div.header:last");

		 //change the text to selection					
		 $target.closest('.input-group-btn').find(
		 '[data-bind="label"]').text($target.text()).end()
		 .children('.dropdown-toggle').dropdown('toggle');

		 return false;
		 }); */

		$(document.body).on(
				'click',
				'#routingRegion li',
				function(event) {

					var routingRegion = '';

					var $target = $(event.currentTarget);
					console.log("value: " + $target.text());

					var subscriberUri = '';

					if ($target.text() == 'Add Region') {

						routingRegion = prompt('Enter new routing region.');
					} else {

						routingRegion = $target.text();

						if ($target.text() == 'Originating') {
							subscriberUri = 'From';
						} else if ($target.text() == 'Terminating') {
							subscriberUri = 'To';
						}
						$('#subscriberUri').val(subscriberUri)

					}

					$target.closest('.input-group-btn').find(
							'[data-bind="label"]').text(routingRegion).end()
							.children('.dropdown-toggle').dropdown('toggle');

					return false;
				});

		/* 		$(document.body).on(
		 'click',
		 '.dropdown-item',
		 function(event) {
		 var $target = $(event.currentTarget);

		 console.log('$target.text: ' + $target.text());

		 var numItems = $('.header').length;
		 if (numItems > 1) {
		 $target.closest('.header').remove();
		 } else {
		 $target.closest('.input-group-btn').find(
		 '[data-bind="label"]').text('Header').end()
		 .children('.dropdown-toggle')
		 .dropdown('toggle');
		 $("input[type=text][name=regex]").val('');
		 }

		 return false;
		 }); */
	</script>

</body>

</html>